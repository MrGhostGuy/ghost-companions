<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>Ghost Companions</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div id="particles-container"></div>
<div id="toast-container"></div>

<div id="splash-screen" class="screen active">
  <div class="splash-content">
    <div class="ghost-emoji floating">&#128123;</div>
    <h1>Ghost Companions</h1>
    <p class="subtitle">Your spectral friends await...</p>
    <button id="enter-btn" class="btn-glow pulse">Enter the Realm</button>
  </div>
</div>

<div id="name-screen" class="screen">
  <div class="screen-content">
    <h2>&#128123; Who dares enter?</h2>
    <p class="subtitle">Tell us your name, mortal...</p>
    <input type="text" id="name-input" placeholder="Enter your name..." maxlength="20" autocomplete="off">
    <button id="name-submit" class="btn-glow">Summon Companions</button>
  </div>
</div>

<div id="select-screen" class="screen">
  <div class="screen-content">
    <h2>Choose Your Companion</h2>
    <p class="subtitle" id="welcome-msg">Select a ghost to chat with</p>
    <div id="companion-grid" class="companion-grid"></div>
    <div class="select-actions">
      <button id="settings-btn" class="btn-small">&#9881; Settings</button>
    </div>
  </div>
</div>

<div id="chat-screen" class="screen">
  <div class="chat-header">
    <button id="back-btn" class="btn-icon">&#9664;</button>
    <div class="chat-companion-info">
      <span id="chat-emoji" class="chat-header-emoji"></span>
      <span id="chat-name"></span>
      <span id="mood-indicator" class="mood-dot"></span>
    </div>
    <button id="clear-chat-btn" class="btn-icon" title="Clear Chat">&#128465;</button>
  </div>
  <div id="chat-messages" class="chat-messages"></div>
  <div id="typing-indicator" class="typing-indicator hidden">
    <span class="dot"></span><span class="dot"></span><span class="dot"></span>
  </div>
  <div class="chat-input-area">
    <input type="text" id="chat-input" placeholder="Type a message..." autocomplete="off">
    <button id="send-btn" class="btn-send">&#9654;</button>
  </div>
</div>

<div id="settings-screen" class="screen">
  <div class="screen-content">
    <h2>&#9881; Settings</h2>
    <div class="setting-group">
      <label>Theme</label>
      <select id="theme-select">
        <option value="dark">Dark Realm</option>
        <option value="purple">Purple Haze</option>
        <option value="midnight">Midnight Blue</option>
        <option value="blood">Blood Moon</option>
      </select>
    </div>
    <div class="setting-group">
      <label>Sound Effects</label>
      <label class="toggle"><input type="checkbox" id="sound-toggle" checked><span class="slider"></span></label>
    </div>
    <div class="setting-group">
      <label>Particles</label>
      <label class="toggle"><input type="checkbox" id="particles-toggle" checked><span class="slider"></span></label>
    </div>
    <div class="setting-group">
      <label>Your Name</label>
      <input type="text" id="settings-name" placeholder="Change name..." maxlength="20">
    </div>
    <button id="save-settings-btn" class="btn-glow">Save Settings</button>
    <button id="back-settings-btn" class="btn-small">Back</button>
  </div>
</div>

<div id="loading-overlay" class="hidden">
  <div class="spinner"></div>
</div>


  <div id="settings-modal" class="modal-overlay">
    <div class="modal-content">
      <h2>Settings</h2>
      <div class="setting-group">
        <label for="api-key-input">OpenRouter API Key (optional)</label>
        <p class="setting-desc">Enter your OpenRouter API key for AI-powered responses. Leave blank for local responses.</p>
        <input type="password" id="api-key-input" placeholder="sk-or-v1-..." class="setting-input">
      </div>
      <div class="modal-buttons">
        <button id="save-api-key" class="btn-glow">Save Key</button>
        <button id="close-settings" class="btn-small">Close</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
